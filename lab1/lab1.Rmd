# Лабораторная работа 1

Проверка следующих навыков: Манипулирование объектами данных; использование встроенных функций; 
построение простейших графиков; простейшие статистические концепции.
## Требования к оформлению
* Оформить решение в R Markdown. 
* Сохранить файл в свой репозиторий.
* Выгрузить R Markdown в HTML, назвать своим именем и отправить по почте (если хочется сдать раньше или нужна помощь).

## Исходные данные
Экспоненциальное распределение определяется следующей функцией распределения:
```
F(x) = 1 - e^(-λ⋅x)

```
Функция ``rexp`` генерирует случайные переменные при помощи экспоненциального распределения
``rexp(n=42, rate=5)`` вернёт 42 экспоненциально-распределённых числа с параметром (λ) равным 5. 
Ели второй аргумент не указан, будет использовано значение 1 т.е. получим "стандартное экспоненциальное распределение".

## Задание 1
1. Сгенерируйте 200 случайных значений из стандартного экспоненциального распределения и сохраните в вектор
_exp.1_. Найдите среднее и стандартное отклонение из данных этого вектора.

```{r}
lambda <- as.integer(5)
sampleLength <- as.integer(200)

exp.1 <- rexp(sampleLength)
mean <- mean(exp.1)
standartDev <-  sd(exp.1)

```

2. Повторите, использовав следующие значения параметра λ: 0.1, 0.5, 5, 10, и сохраните результаты в векторы: 
_exp.0.1_, _exp.0.5_, _exp.5_, _exp.10_.

```{r}
exp.0.1 <- rexp(sampleLength, rate = 0.1)
exp.0.5 <- rexp(sampleLength, rate = 0.5)
exp.5 <- rexp(sampleLength, rate = 5)
exp.10 <- rexp(sampleLength, rate = 10)
```

3. Функция ``plot()`` общая функция для визуализации данных. Функция ``hist()`` принимает данные и раскладывает 
их по корзинам. Чтобы использовать эти функции нужно для начала передать им данные, которые хотим визуализировать.
  1. Используйте функцию ``hist()`` для построения гистограммы полученного ранее стандартного распределения.
  2. Используйте функцию ``plot()`` с тем же самым вектором для построения графика значений в порядке следования.
  3. Используйте функцию ``plot()`` с любыми двумя полученными ранее векторами, чтобы получить диаграмму рассеяния ([scatterplot](https://www.mathsisfun.com/data/scatter-xy-plots.html)) 
  этих векторов относительно друг друга.

```{r}
hist(exp.1)
plot(exp.1)
plot(exp.1, exp.5)
```
  
4. Теперь сравним свойства всех наших векторов. Для начала создадим вектор,
содержащий средние значения каждого из 5 полученных ранее распределений в порядке их создания.
Полученный вектор сохраним в переменную _exp.means_. Далее необходимо создать следующие диаграммы рассеяния:
  1. Вектор с пятью средними относительно каждого из пяти векторов с различными значениями λ.
  2. Вектор с пятью стандартными отклонениями относительно каждого из пяти векторов с различными значениями λ.
  3. Вектор с пятью средними относительно вектора с пятью стандартными отклонениями.

```{r}
lambdas <-c(1, 0.1, 0.5, 5, 10)
exp.means <- c(mean(exp.1), mean(exp.0.1), mean(exp.0.5), mean(exp.5), mean(exp.10))
exp.sds <- c(sd(exp.1), sd(exp.0.1), sd(exp.0.5), sd(exp.5), sd(exp.10))
plot(exp.means, lambdas)
plot(exp.sds, lambdas)
plot(exp.means, exp.sds)
```

## Задание 2
R достаточно производителен, чтобы вычислять относительно большие объёмы данных.

* Для демонстрации сгенерируйте 1100000 (1 млн. 100 тысяч) чисел из стандартного экспоненциального распределения
и сохраните их в вектор _huge.exp.1_. Получите среднее и стандартное отклонение.
* Получите гистограмму _huge.exp.1_. Она соответствует функции ``1 - e:^(-x)``? Должна ли?
* Получите среднее всех чисел из _huge.exp.1_ строго больших 1. Для проверки выборки может потребоваться новый вектор.
* Получите матрицу _huge.exp.1.mat_, содержащую 1100 строк и 1000 колонок. Постройте гистограмму, использовав полученную матрицу.
Что можно сказать о полученных данных?
* Рассчитайте среднее 137-й колонки из _huge.exp.1.mat_.
* Найдите среднее всей 1000 колонок и сохраните их в вектор. Отобразите диаграмму средних значений колонок.
Объясните почему форма диаграммы отличается от виденных ранее.
* Рассчитайте квадрат каждого значения из _huge.exp.1_ и найдите среднее и стандартное отклонение полученного вектора квадратов.
Объясните отличие от соответствующих показателей вектора _huge.exp.1_. Вам может помочь формула, по которой R рассчитывает
стандартное отклонение: ``sqrt(sum((x - mean(x))^2) / (n - 1))``.

```{r}
huge.exp.1 <- rexp(1100000, 1)
huge.mean <- mean(huge.exp.1)   #0.999
huge.sd <- sd(huge.exp.1)   #1.001
hist(huge.exp.1)
```
Данная гистограмма не соответсвует экспоненциальному распределению, т.к. не нормализована.

```{r}
mean.bigger.than.one <- mean(huge.exp.1[huge.exp.1 > 1])    #2.001
huge.exp.1.mat <- matrix(huge.exp.1, 1100, 1000)
hist(huge.exp.1.mat)
```
Данные те же => гистограмма аналогична пердыдущей.

```{r}
mean.137 <- mean(huge.exp.1.mat[,137])    # 1.01087
plot(colMeans(huge.exp.1.mat))
```
На этом графике отображается среднее значение по каждой колонке. Так как данные не отсортированы, нельзя увидить никакого тренда, однако все значения лежат в каких-то разумных пределах, на что указывает трубовидность графика.

```{r]}
square.mean <- mean(huge.exp.1 ^ 2)   # 2.000
square.sd <- sd(huge.exp.1 ^ 2)   #4.489
```